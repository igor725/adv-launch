"use strict"; function _slicedToArray(t, e) { return _arrayWithHoles(t) || _iterableToArrayLimit(t, e) || _nonIterableRest() } function _nonIterableRest() { throw TypeError("Invalid attempt to destructure non-iterable instance") } function _iterableToArrayLimit(t, e) { var n = [], r = !0, a = !1, i = void 0; try { for (var o, l = t[Symbol.iterator](); !(r = (o = l.next()).done) && (n.push(o.value), !e || n.length !== e); r = !0); } catch (s) { a = !0, i = s } finally { try { r || null == l.return || l.return() } finally { if (a) throw i } } return n } function _arrayWithHoles(t) { if (Array.isArray(t)) return t } function _typeof(t) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function t(e) { return typeof e } : function t(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(t) } function _classCallCheck(t, e) { if (!(t instanceof e)) throw TypeError("Cannot call a class as a function") } function _defineProperties(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } function _createClass(t, e, n) { return e && _defineProperties(t.prototype, e), n && _defineProperties(t, n), t }/**
 * 
 * @name:       translatorjs
 * @version:    3.1.0
 * @author:     EOussama
 * @license     MIT
 * @source:     https://github.com/EOussama/translatorjs
 * 
 * A simple javascript library for translating web content.
 * 
 */ !function (t) { var e = function () { function t(e) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : ""; if (_classCallCheck(this, t), !e || "object" !== _typeof(e) || Array.isArray(e)) throw Error("[TranslatorJS] Invalid dictionary object."); if ("string" != typeof n) throw Error("[TranslatorJS] Invalid language key, expected “string” by recieved “".concat(_typeof(n), "”.")); if (!e.hasOwnProperty(n) && n.length > 0) throw Error("[TranslatorJS] Invalid language key, “".concat(n, "” does not exist in the passed dictionary.")); this.dictionary = e || {}, this.language = n || (("undefined" == typeof document ? "undefined" : _typeof(document)) === "object" ? document.documentElement.lang : "en") || "en" } return _createClass(t, [{ key: "dictionary", set: function t(e) { if (!e || "object" !== _typeof(e) || Array.isArray(e)) throw Error("[TranslatorJS] Invalid dictionary object."); this._dictionary = e }, get: function t() { return this._dictionary } }, { key: "language", set: function t(e) { if ("string" != typeof e) throw Error("[TranslatorJS] Invalid language key, expected “string” by recieved “".concat(_typeof(e), "”.")); if (!this.dictionary.hasOwnProperty(e) && Object.keys(this.dictionary).length > 0 && e.length > 0) throw Error("[TranslatorJS] Invalid language key, “".concat(_typeof(e), "” does not exist in the dictionary.")); this._language = e }, get: function t() { return this._language } }, { key: "fallbacklang", set: function t(e) { if ("string" != typeof e) throw Error("[TranslatorJS] Invalid language key, expected “string” by recieved “".concat(_typeof(e), "”.")); if (!this.dictionary.hasOwnProperty(e) && Object.keys(this.dictionary).length > 0 && e.length > 0) throw Error("[TranslatorJS] Invalid language key, “".concat(_typeof(e), "” does not exist in the dictionary.")); this._fblang = e }, get: function t() { return this._fblang } }, { key: "languages", get: function t() { return this.dictionary ? Object.keys(this.dictionary) : [] } }]), _createClass(t, [{ key: "translate", value: function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "", r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a = r.lang || this.language, i = r.fallback || e, o = r.params || {}, l = e.split(".").filter(function (t) { return t.length > 0 }); if (!this.isValidLanguage(a)) return i; var s, u, c = this.dictionary.hasOwnProperty(this.language); return !c || (c = l.length > 1 ? n(this.dictionary, a, l) : this.dictionary[a][e]) || !this._fblang || (c = l.length > 1 ? n(this.dictionary, this._fblang, l) : this.dictionary[this._fblang][e]), c ? (s = c, u = o, Object.keys(u).forEach(function (t) { var e = RegExp("{".concat(t, "}"), "g"); s = s.replace(e, u[t]) }), s) : i } }, { key: "translateElement", value: function t(e, n) { if (e) { var r = n || this.language, a = e.attributes["eo-translator"].value || e.textContent || e.innerText || e.innerHTML, i = (e.attributes["eo-translator-fallback"] || { value: a }).value, o = JSON.parse((e.attributes["eo-translator-params"] || { value: "{}" }).value) || {}; e[e.attributes["eo-translator-html"] && ["true", "false"].includes(e.attributes["eo-translator-html"].value) && !0 === JSON.parse(e.attributes["eo-translator-html"].value) ? "innerHTML" : "textContent"] = this.translate(a, { lang: r, fallback: i, params: o }) } } }, { key: "translateDOM", value: function t(e, n) { var r = this, a = n || this.language, i = e || ("undefined" == typeof document ? "undefined" : _typeof(document)) === "object" ? document : null; i && i.querySelectorAll("[eo-translator]").forEach(function (t) { return r.translateElement(t, a) }) } }, { key: "add", value: function t(e, n, r) { var a = n.split(".").filter(function (t) { return t.length > 0 }), i = a.pop(); this.dictionary.hasOwnProperty(e) || (this.dictionary[e] = {}); var o = this.dictionary[e]; if (a.length > 0) for (var l = Object.entries(a), s = 0; s < l.length; s++) { var u = _slicedToArray(l[s], 2), c = u[0], f = u[1]; o = o[f] || (o[f] = {}), parseInt(c) === a.length - 1 && (o[i] = r) } else o[n] = r } }, { key: "remove", value: function t(e, n) { var r = n.split(".").filter(function (t) { return t.length > 0 }), a = r.pop(); if (this.dictionary.hasOwnProperty(e)) { var i = this.dictionary[e]; if (r.length > 0) for (var o = Object.entries(r), l = 0; l < o.length; l++) { var s = _slicedToArray(o[l], 2), u = s[0]; if (!(i = i[s[1]])) break; parseInt(u) === r.length - 1 && delete i[a] } else delete i[n] } } }, { key: "isValidLanguage", value: function t(e) { return this.dictionary.hasOwnProperty(e) } }]), t }(); function n(t, e, n) { var r = t[e], a = !0, i = !1, o = void 0; try { for (var l, s = n[Symbol.iterator](); !(a = (l = s.next()).done) && (r = r[l.value] || void 0); a = !0); } catch (u) { i = !0, o = u } finally { try { a || null == s.return || s.return() } finally { if (i) throw o } } return r } "undefined" != typeof module && void 0 !== module.exports ? module.exports = e : "function" == typeof define && define.amd ? define([], function () { return e }) : window.EOTranslator = e }("undefined" != typeof window ? window : void 0);
